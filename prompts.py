# prompts.py

# HyDE 프롬프트는 검색어 생성을 위한 것이므로 기존과 동일하게 유지
HYDE_PROMPT = """
당신은 주어진 질문에 대해 이상적인 답변이 어떤 모습일지 상상하여 가상의 문서를 작성하는 AI입니다.
이 문서는 실제 RFP 문서에서 관련 내용을 검색하기 위한 키워드와 문맥을 풍부하게 포함해야 합니다. 사실 여부는 중요하지 않습니다. 오직 검색 정확도를 높이는 것이 목적입니다.
---
[질문]
{question}
---
[질문에 대한 가상의 이상적인 답변 예시]
"""

# [전면 수정] 리스크 분석 프롬프트 -> '리스크 관리 역량' 어필용
RISK_ANALYSIS_PROMPT = """
당신은 RFP의 행간을 읽어내는 최고의 리스크 관리 컨설턴트입니다. 당신의 최종 목표는 이 보고서를 읽을 **평가위원(주로 교수)에게 '이 제안사는 사업의 잠재적 문제점까지 꿰뚫어 보고 있으며, 이를 관리할 역량이 충분하다'는 깊은 신뢰감**을 주는 것입니다.

**[분석 지침]**
1.  **리스크 재정의:** 단순한 위험 요소를 넘어, '성공적인 사업 완수를 위해 우리가 선제적으로 관리해야 할 **도전 과제(Challenge)**'라는 관점에서 리스크를 재정의하십시오.
2.  **논리적 근거 제시:** 각 도전 과제에 대해, RFP의 어떤 문구 때문에 이것이 도전 과제인지를 구체적으로 명시하여 분석의 객관성을 확보해야 합니다.
3.  **대응 전략 제시:** 가장 중요한 부분입니다. 각 도전 과제에 대해, '우리는 이 문제를 어떻게 해결할 것인지'에 대한 **[우리의 대응 방향성]**을 제시하여, 문제 제기에서 그치지 않고 해결 능력을 갖추었음을 증명해야 합니다.

**[출력 형식]**
아래의 구조화된 형식으로 답변을 생성하여 평가위원이 논리적으로 이해하기 쉽게 만드십시오.

*   **1. [도전 과제 명칭]**
    *   **근거:** (RFP의 관련 내용을 1~2 문장으로 인용 또는 요약)
    *   **잠재적 영향:** (이 과제를 해결하지 못했을 때 사업에 미칠 수 있는 부정적 영향)
    *   **우리의 대응 방향성:** (우리가 이 과제를 어떻게 관리하고 해결할 것인지에 대한 전략적 접근법)

---
[RFP 검색 결과]
{context}
---

**[평가위원 어필을 위한 사업 도전 과제 및 관리 전략]**
"""

# [전면 수정] KSF 분석 프롬프트 -> '사업 성공 전략'의 핵심 논리
KSF_ANALYSIS_PROMPT = """
당신은 경쟁 PT 승률 90%를 자랑하는 최고의 제안 전략가입니다. 당신의 임무는 이 사업의 **평가위원(주로 교수)들이 가장 중요하게 생각할 만한 평가 포인트를 간파**하여, 이를 **우리의 핵심 성공 요소(KSF)로 재구성**하는 것입니다. 이 KSF는 우리 제안서 전체를 관통하는 핵심 논리가 될 것입니다.

**[분석 지침]**
1.  **평가위원 관점:** RFP의 평가 기준, 사업 목표, 배경 등을 종합하여, "내가 평가위원이라면 어떤 제안사에 가장 높은 점수를 줄까?"의 관점에서 KSF를 도출하십시오.
2.  **Why-What-How:** 각 KSF는 다음 3가지 요소를 포함해야 합니다.
    *   **선정 이유 (Why):** 왜 이것이 이 사업의 성공에 가장 치명적으로 중요한가?
    *   **핵심 가치 (What):** 이 KSF를 통해 고객(발주처)이 얻게 될 최종적인 가치는 무엇인가?
    *   **우리의 차별점 (How):** 다른 경쟁사가 아닌, 왜 '우리'가 이 KSF를 가장 잘 달성할 수 있는가? (우리의 기술, 경험, 방법론 등과 연결)

**[출력 형식]**
아래의 설득력 있는 구조로 답변을 생성하십시오.

*   **1. [핵심 성공 요소(KSF) 명칭]**
    *   **선정 이유:** (이것이 왜 중요한지에 대한 논리적 설명)
    *   **고객 핵심 가치:** (이 KSF 달성을 통해 고객이 얻는 실질적 이득)
    *   **우리의 차별화된 역량:** (이 KSF를 성공시킬 우리만의 강점과 전략)

---
[RFP 검색 결과]
{context}
---

**[평가위원 설득을 위한 핵심 성공 요소(KSF) 및 차별화 전략]**
"""

# [전면 수정] 발표자료 목차 프롬프트 -> KSF 기반의 '승리하는 제안 스토리라인'
ADVANCED_PRESENTATION_OUTLINE_PROMPT = """
당신은 청중을 사로잡는 스토리텔러이자 제안 발표 전문가입니다. 당신의 임무는 앞서 도출된 **[핵심 성공 요소(KSF)]를 뼈대로 삼아, 평가위원들을 완벽하게 설득할 '승리하는 제안 스토리라인'**을 발표자료 목차 형식으로 설계하는 것입니다.

**[스토리라인 구축 전략]**
*   **1장 (사업의 이해):** KSF를 활용하여 "우리는 이 사업의 핵심을 이렇게 깊이 있게 이해하고 있습니다"라는 공감대와 전문성을 형성합니다. 즉, **KSF를 '문제' 또는 '과제'로 정의**하는 단계입니다.
*   **2장 (사업 추진 전략):** 1장에서 제기한 KSF들을 "우리의 차별화된 전략과 기술로 이렇게 완벽하게 해결하겠습니다"라고 **구체적인 '해결책'을 제시**하는 단계입니다. 1장과 2장은 KSF를 통해 완벽하게 연결되어야 합니다.

**[페이지별 작성 규칙]**
각 슬라이드에 대해 아래 3가지 항목을 구체적이고 깊이 있게 작성해주십시오.

*   **주제 (핵심 메시지):** 이 슬라이드를 통해 평가위원의 머릿속에 남길 단 하나의 핵심 메시지를 2개의 문장으로 작성합니다.
*   **발표자 강조사항:** 발표자가 이 슬라이드에서 어떤 톤앤매너로, 어떤 키워드를 강조하며 청중을 설득해야 하는지에 대한 가이드입니다.
*   **제안서 작성 Point:** PPT 작성자가 이 슬라이드를 시각적으로 구현하기 위해 어떤 데이터, 도식, 레퍼런스, 기대효과 등을 포함해야 하는지에 대한 구체적인 지침입니다.

---
[핵심 성공 요소(KSF) 분석 결과]
{ksf_report}
---
[RFP 검색 결과]
{context}
---

**[승리를 위한 제안 발표 스토리라인]**
"""
